using System;
using System.Collections.Generic;
using System.Linq;

public static class QueryStringBuilder
{
    public static string Build(Dictionary<string, string> parameters)
    {
        if (parameters == null || parameters.Count == 0)
            return string.Empty;

        var queryParams = parameters
            .Where(p => !string.IsNullOrWhiteSpace(p.Key) && !string.IsNullOrWhiteSpace(p.Value))
            .Select(p => $"{Uri.EscapeDataString(p.Key)}={Uri.EscapeDataString(p.Value)}");

        return queryParams.Any() ? "?" + string.Join("&", queryParams) : string.Empty;
    }
}
